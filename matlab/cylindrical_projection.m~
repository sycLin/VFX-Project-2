function CylImg = cylindrical_projection(img, f, radius)
    row = size(img(:,:,1),1);
    col = size(img(:,:,1),2);
    xfrom = floor(-col/2);
    xto = ceil(col/2);
    yform = floor(-row/2);
    yto = ceil(row/2);
    
    width = ceil(radius * 2 * abs(atan(xto/f) - atan(xfrom/f)));
    height = radius*((yfrom/f - yto/f) + 1);
    
    CylImg = ones(height, width, 3);
    
    CylCenterX = round(width/2);
    cylCenterY = round(height/2);
    
    
    for x=0:col-1
        for y=0:row-1
            
            proX = ceil(x - col/2);
            proY = ceil(y - row/2);
            
            theta = atan(proX/f);
            h = y/sqrt(proX^2 + f^2) * raduis;
            
            CylImg(CylCenterY + h, CylCenterX + sin(theta)*raduis) = 
            
        end
    end
end